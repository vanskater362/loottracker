if(typeof $WH=="undefined"){$WH={wowheadRemote:true}}if(typeof $WowheadPower=="undefined"){var $WowheadPower=new function(){var U=$WH.wowheadRemote;var y={applyto:3},s=document.getElementsByTagName("head")[0],G=true,h,O,S,J,u,Y,M,K,j=0,ac=false,N={},i={},z={},H={},T={},ae={},f={},X=1,B=1,R=0,P=1,k=2,v=3,Q=4,w=1,m=2,D=3,I=5,x=6,p=10,l=100,r=15,F=15,C={loading:"Loading...",noresponse:"No response from server :(",achievementcomplete:"Achievement earned by $1 on $2/$3/$4"},t={1:[N,"npc","NPC"],2:[i,"object","Object"],3:[z,"item","Item"],5:[H,"quest","Quest"],6:[T,"spell","Spell"],10:[ae,"achievement","Achievement"],100:[f,"profile","Profile"]},e={0:"enus",2:"frfr",3:"dede",6:"eses",7:"ruru",ptr:"ptr",beta:"beta"},c={wotlk:"www"};if(U){var b={getId:function(){return 0},getName:function(){return"enus"}}}if(G){}else{c.ptr="www"}function Z(){if(U){var af=document.createElement("script");af.src="http://static.wowhead.com/js/basic.js?5";s.appendChild(af)}else{V()}}function V(){if(ac){return}ac=true;$WH.aE(document,"mouseover",A)}this.init=function(){if(U){$WH.ae(s,$WH.ce("link",{type:"text/css",href:"http://static.wowhead.com/css/basic.css?5",rel:"stylesheet"}))}V()};function q(af){var ag=$WH.g_getCursorPos(af);M=ag.x;K=ag.y}function ab(ar,an){if(ar.nodeName!="A"&&ar.nodeName!="AREA"){return -2323}if(!ar.href.length){return}if(ar.rel&&ar.rel.indexOf("np")!=-1){return}var ak,aj,ah,ag,al={};u=al;var af=function(at,av,au){if(av=="buff"||av=="sock"){al[av]=true}else{if(av=="rand"||av=="ench"||av=="lvl"||av=="c"){al[av]=parseInt(au)}else{if(av=="gems"||av=="pcs"){al[av]=au.split(":")}else{if(av=="who"||av=="domain"){al[av]=au}else{if(av=="when"){al[av]=new Date(parseInt(au))}}}}}};if(y.applyto&1){aj=2;ah=3;if(ar.href.indexOf("http://")==0){ak=1;ag=ar.href.match(/http:\/\/(www)\.[A-Za-z]*\....\/\S*(item+)=(\d+)/);if(ag==null){ag=ar.href.match(/^http:\/\/(.+?)?\.?wowhead\.com\/\??(profile)=([^&#]+)/)}B=0}else{ag=ar.href.match(/()\??(item|quest|spell|achievement|npc|object)=([0-9]+)/);if(ag==null){ag=ar.href.match(/()\??(profile)=([^&#]+)/)}B=1}}if(ag==null&&ar.rel&&(y.applyto&2)){ak=0;aj=1;ah=2;ag=ar.rel.match(/(item|quest|spell|achievement|npc|object).?([0-9]+)/);if(ag==null){ag=ar.rel.match(/(profile).?([^&#]+)/)}B=1}ar.href.replace(/([a-zA-Z]+)=?([a-zA-Z0-9:-]*)/g,af);if(ar.rel){ar.rel.replace(/([a-zA-Z]+)=?([a-zA-Z0-9:-]*)/g,af)}if(al.gems&&al.gems.length>0){var am;for(am=Math.min(3,al.gems.length-1);am>=0;--am){if(parseInt(al.gems[am])){break}}++am;if(am==0){delete al.gems}else{if(am<al.gems.length){al.gems=al.gems.slice(0,am)}}}if(ag){var aq,ai="www";Y=ar;if(al.domain){ai=al.domain}else{if(ak&&ag[ak]){ai=ag[ak]}}if(c[ai]){ai=c[ai]}aq=$WH.g_getLocaleFromDomain(ai);if(ai=="ptr"){aq="ptr"}else{if(ai=="beta"||ai=="cata"){aq="beta"}}J=ai;if(ar.href.indexOf("#")!=-1&&document.location.href.indexOf(ag[aj]+"="+ag[ah])!=-1){return}j=((ar.parentNode.className.indexOf("icon")==0&&ar.parentNode.nodeName=="DIV")?1:0);if(!ar.onmouseout){if(j==0){ar.onmousemove=a}ar.onmouseout=aa}q(an);var ap=$WH.g_getIdFromTypeName(ag[aj]),ao=ag[ah];E(ap,ao,aq,al)}}function A(ah){ah=$WH.$E(ah);var ag=ah._target;var af=0;while(ag!=null&&af<5&&ab(ag,ah)==-2323){ag=ag.parentNode;++af}}function a(af){af=$WH.$E(af);q(af);$WH.Tooltip.move(M,K,0,0,r,F)}function aa(){h=null;Y=null;$WH.Tooltip.hide()}function W(af){return(u&&u.buff?"buff_":"tooltip_")+e[af]}function n(ag,ai,ah){var af=t[ag][0];if(af[ai]==null){af[ai]={}}if(af[ai].status==null){af[ai].status={}}if(af[ai].status[ah]==null){af[ai].status[ah]=R}}function E(ag,ak,ai,aj){if(!aj){aj={}}var ah=g(ak,aj);h=ag;O=ah;S=ai;u=aj;n(ag,ah,ai);var af=t[ag][0];if(af[ah].status[ai]==Q||af[ah].status[ai]==v){ad(af[ah][W(ai)],af[ah].icon)}else{if(af[ah].status[ai]==P){ad(C.loading)}else{d(ag,ak,ai,null,aj)}}}function d(ao,aj,ap,ah,ak){var af=g(aj,ak);var am=t[ao][0];if(am[af].status[ap]!=R&&am[af].status[ap]!=k){return}am[af].status[ap]=P;if(!ah){am[af].timer=setTimeout(function(){o.apply(this,[ao,af,ap])},333)}var ai="";for(var al in ak){if(al!="rand"&&al!="ench"&&al!="gems"&&al!="sock"){continue}if(typeof ak[al]=="object"){ai+="&"+al+"="+ak[al].join(":")}else{if(al=="sock"){ai+="&sock"}else{ai+="&"+al+"="+ak[al]}}}var an=$WH.g_getDomainFromLocale(ap);if(ap=="ptr"){an="ptr"}else{if(ap=="beta"){an="cata"}}var ag="";if(typeof g_dev=="undefined"||!g_dev){ag+="http://"+an+".wowhead.com"}else{if(window.location.hostname.indexOf("dev.wowhead.com")!=-1){if(an!="www"&&window.location.hostname.indexOf(an)!=0){ag+="http://"+an+"."+window.location.hostname}}}ag+="/"+t[ao][1]+"="+aj+"&power"+ai;$WH.g_ajaxIshRequest(ag)}function ad(ai,aj){if(Y&&Y._fixTooltip){ai=Y._fixTooltip(ai,h,O,Y)}var ak=false;if(!ai){ai=t[h][2]+" not found :(";aj="inv_misc_questionmark";ak=true}else{if(u!=null){if(u.pcs&&u.pcs.length){var al=O.match(/^(\d+)/);al=al[1];var am=0;for(var ah=0,ag=u.pcs.length;ah<ag;++ah){var af;if(af=ai.match(new RegExp("<span><!--si([0-9]+:)*"+u.pcs[ah]+'(:[0-9]+)*--><a href="/\\?item=(\\d+)">(.+?)</a></span>'))){ai=ai.replace(af[0],'<span class="q8"><!--si'+u.pcs[ah]+'--><a href="/item='+af[3]+'">'+(($WH.isset("g_items")&&g_items[u.pcs[ah]])?g_items[u.pcs[ah]]["name_"+e[S]]:af[4])+"</a></span>");++am}}if(am>0){ai=ai.replace("(0/","("+am+"/");ai=ai.replace(new RegExp("<span>\\(([0-"+am+"])\\)","g"),'<span class="q2">($1)')}}if(u.lvl){ai=$WH.g_setTooltipLevel(ai,u.lvl,u.buff)}if(u.who&&u.when){ai=ai.replace("<table><tr><td><br />",'<table><tr><td><br /><span class="q2">'+$WH.sprintf(C.achievementcomplete,u.who,u.when.getMonth()+1,u.when.getDate(),u.when.getFullYear())+"</span><br /><br />");ai=ai.replace(/class="q0"/g,'class="r3"')}}}if(j==1){$WH.Tooltip.setIcon(null);$WH.Tooltip.show(Y,ai)}else{$WH.Tooltip.setIcon(aj);$WH.Tooltip.showAtXY(ai,M,K,r,F)}if(U&&$WH.Tooltip.logo){$WH.Tooltip.logo.style.display=(B?"block":"none")}}function o(ag,ai,ah){if(h==ag&&O==ai&&S==ah){ad(C.loading);var af=t[ag][0];af[ai].timer=setTimeout(function(){L.apply(this,[ag,ai,ah])},3850)}}function L(ag,ai,ah){var af=t[ag][0];af[ai].status[ah]=k;if(h==ag&&O==ai&&S==ah){ad(C.noresponse)}}function g(ag,af){return ag+(af.rand?"r"+af.rand:"")+(af.ench?"e"+af.ench:"")+(af.gems?"g"+af.gems.join(","):"")+(af.sock?"s":"")}this.register=function(ah,aj,ai,ag){var af=t[ah][0];n(ah,aj,ai);if(af[aj].timer){clearTimeout(af[aj].timer);af[aj].timer=null}$WH.cO(af[aj],ag);if(af[aj].status[ai]==P){if(af[aj][W(ai)]){af[aj].status[ai]=Q}else{af[aj].status[ai]=v}}if(h==ah&&aj==O&&S==ai){ad(af[aj][W(ai)],af[aj].icon)}};this.registerNpc=function(ah,ag,af){this.register(w,ah,ag,af)};this.registerObject=function(ah,ag,af){this.register(m,ah,ag,af)};this.registerItem=function(ah,ag,af){this.register(D,ah,ag,af)};this.registerQuest=function(ah,ag,af){this.register(I,ah,ag,af)};this.registerSpell=function(ah,ag,af){this.register(x,ah,ag,af)};this.registerAchievement=function(ah,ag,af){this.register(p,ah,ag,af)};this.registerProfile=function(ah,ag,af){this.register(l,ah,ag,af)};this.request=function(af,aj,ah,ai){if(!ai){ai={}}var ag=g(aj,ai);n(af,ag,ah);d(af,aj,ah,1,ai)};this.requestItem=function(ag,af){this.request(D,ag,b.getId(),af)};this.requestSpell=function(af){this.request(x,af,b.getId())};this.getStatus=function(ag,ai,ah){var af=t[ag][0];if(af[ai]!=null){return af[ai].status[ah]}else{return R}};this.getItemStatus=function(ag,af){this.getStatus(D,ag,af)};this.getSpellStatus=function(ag,af){this.getStatus(x,ag,af)};if(U){this.set=function(af){$WH.cO(y,af)};this.showTooltip=function(ah,af,ag){q(ah);ad(af,ag)};this.hideTooltip=function(){$WH.Tooltip.hide()};this.moveTooltip=function(af){a(af)}}Z()}};